{{ define "main" }}

{{ partial "species_title.html" . }}

{{ partial "species_nav.html" . }}

<!-- YAML file with assembly and annotation data per species -->
{{ $stats_file := (split .Params.stats_data_path "/") }}
{{ $stats_contents := index .Site.Data $stats_file }}


<div class="container">
    <div class="row">
        <div class="col">
            {{ .Content }}
        </div>
    </div>

    <div class="row">

    <!-- assembly data table -->
        <div class="col">
            <h2>Assembly Data</h2>

        {{ if .Params.stats_data_path }}
            <div class="table-responsive">
                <table id="assemblyTable" class="table table-hover table-bordered" width="100%">

                <thead class="table-light">
                    <tr>
                    <th scope="col">Statistic</th>
                    <th scope="col">Value</th>
                    </tr>
                </thead>

                <tbody class="table-responsive">
                    {{ range $idx, $statistic := $stats_contents.assembly }}
                        {{ range $stat_name, $value := $statistic }}
                        <tr>
                            <td> {{ $stat_name }} </td>
                            <td> {{ $value }} </td>
                        </tr>
                        {{ end }}
                    {{ end }}
                </tbody>

                </table>
            </div>
        </div>

        {{ else }}
            <p> No assembly data has been provided for this species </p>
        {{ end }}

    </div>


    <!-- annotation data table -->
    <div class="row">

        <div class="col">
            <h2>Annotation Data</h2>

        {{ if .Params.stats_data_path }}
            <div class="table-responsive">
                <table id="annotationTable" class="table table-hover table-bordered" width="100%">

                <thead class="table-light">
                    <tr>
                    <th scope="col">Statistic</th>
                    <th scope="col">Value</th>
                    </tr>
                </thead>

                <tbody class="table-responsive">
                    {{ range $idx, $statistic := $stats_contents.annotation }}
                        {{ range $stat_name, $value := $statistic }}
                        <tr>
                            <td> {{ $stat_name }} </td>
                            <td> {{ $value }} </td>
                        </tr>
                        {{ end }}
                    {{ end }}
                </tbody>

                </table>
            </div>
        </div>

        {{ else }}
            <p> No annotation data has been provided for this species </p>
        {{ end }}

    </div>



</div>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha384-wsqsSADZR1YRBEZ4/kKHNSmU+aX8ojbnKUMN4RyD3jDkxw5mHtoe2z/T/n4l56U/" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css" integrity="sha384-zxIWrl6qlRc1gf8mdRhQEZUap0s1QKZYh7n91f2nDSoExwY+xIrewx7nOxbdsIkB" crossorigin="anonymous">
<script src="https://cdn.datatables.net/2.0.2/js/dataTables.js" integrity="sha384-ZAOiyxyrmrFcIJwxqcjS1FW7bDREPo2tjhgp2r3Bqm0YGGZw60y+JVznuSfcEDg/" crossorigin="anonymous"></script>

<script>
    $(document).ready( function () {
        $('#assemblyTable').DataTable({
      paging: false,
      info: false,
      searching: false,
      ordering: false
    });
        $('#annotationTable').DataTable({
      paging: false,
      info: false,
      searching: false,
      ordering: false
    });
    } );
</script>



{{ end }}
