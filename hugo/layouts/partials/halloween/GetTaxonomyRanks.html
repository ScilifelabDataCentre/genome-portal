{{ $species := dict "scientificName" (index .taxon "-scientificName") "taxId" (index .taxon "-taxId") }}
{{ $byrank := dict "species" $species }}
{{ range .taxon.lineage.taxon }}
    {{ $rank := index . "-rank" }}
    {{ $scientificName := index . "-scientificName" }}
    {{ $taxId := index . "-taxId" }}
    {{ with $rank }}
	{{ $data := dict "scientificName" $scientificName "taxId" $taxId }}
	{{ $byrank = merge $byrank (dict $rank $data) }}
    {{ end }}
{{ end }}
{{ return $byrank }}
